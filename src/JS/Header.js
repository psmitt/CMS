var displayMessage,refreshFrame,refreshOption;displayMessage=function(a,c){var b;$("#message-text").text(null!=(b=literal[a])?b:a);a={on:"ui-state-error",off:"ui-state-highlight"};b={on:"ui-icon-warning",off:"ui-icon-info"};$("#message-box").removeClass(a[!c]).addClass(a[c]);$("#message-icon").removeClass(b[!c]).addClass(b[c]);return $("header > span").css({width:"calc(100% - "+($("header > div").width()+20)+"px)"})};$(document).ready(function(){if(self!==top)return $('<img src="/CSS/UpDown.png" onclick="parent.closeFrame(window.name)" oncontextmenu="return parent.toggleFrame(window.name)"/>').prependTo("header span:first")});
refreshOption=function(a,c,b){return $.post("/AJAX/Form.php","form_options="+encodeURIComponent(JSON.stringify({folder:a,file:c,field:b}))).done(function(a){options[b]=JSON.parse(a);$("#"+b).blur();return CollectGarbage()})};
refreshFrame=function(){var a,c,b;displayMessage("Refreshing Frame Data",!1);var d=location.pathname.substring(location.pathname.lastIndexOf("/")+1);"Tree.php"===d&&location.reload();if("Table.php"===d||"Form.php"===d){var e="Table";(a=/[\\?&]table=([^&#]*)/.exec(location.search))?a=decodeURIComponent(a[1].replace(/\+/g," ")):(e="Form",a=null!=(b=$('[name="form-name"]'))?b.val():void 0);for(c in options)refreshOption(e,a,c)}return"Table.php"===d||"View.php"===d?$.post("/AJAX/View.php",location.search.split("?")[1]).done(function(a){var b,
c,d;try{data_rows=JSON.parse(a);var f=0;for(c=data_rows.length;f<c;f++){var e=data_rows[f];var h=e.data;var g=b=0;for(d=h.length;b<d;g=++b){var k=h[g];if(null===k||"{}"===JSON.stringify(k))e.data[g]=""}}return filterTable($("#filter-row input")[0])}catch(l){return a=l,displayMessage("JSON error: "+a.message,!0)}}).fail(function(a,b){return displayMessage(errorThrown,!0)}).always(function(){$(window).resize().scroll();return CollectGarbage()}):displayMessage("OK",!1)};//# sourceMappingURL=Header.js.map
